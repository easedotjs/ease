(()=>{if(typeof ease>"u")throw new Error("This library requires Ease to be loaded first");ease.extensions.before(["@easedotjs/components"]);var{error:m}=ease.log,{live:h}=ease,l=[];function r(e){let{EaseTextNode:t}=ease.extensions.get("@easedotjs/components").vdom;switch(e.constructor.name){case"EaseTextNode":let s=/(\{\{.*?\}\})/g,o=e.text.split(s).filter(Boolean),a=[];o.forEach(n=>{if(n.startsWith("{{")&&n.endsWith("}}")){let c=new t(n.substring(2,n.length-2));c.addMeta("reactive",!0),a.push(c)}else a.push(new t(n))}),e.replace(...a);break;case"EaseNode":e.children.forEach(r);break}}function d({template:e}){e.children.forEach(r)}function i(e,t){if(e.getMeta("reactive")){let s=e.text.trim();t[s]=h(),t[s].subscribe(o=>{e.text=o.value,e.htmlNode.textContent=o.value})}e.children.forEach(s=>i(s,t))}function f({instance:e,args:t}){t.rx=t.rx||{},e.vdom.children.forEach(s=>i(s,t.rx))}function u({args:e}){e.rx&&Object.keys(e.rx).forEach(t=>{e.rx[t].unsubscribe()}),l=[]}ease.extensions.add({name:"@easedotjs/reactive-dom","@easedotjs/components":{onFetchComponent:d,onInit:f,onCleanup:u}});})();
//# sourceMappingURL=index.min.js.map
