{
  "version": 3,
  "sources": ["vdom.js", "parser.js", "registry.js", "hydrate.js", "index.js"],
  "sourcesContent": ["const svgns = 'http://www.w3.org/2000/svg';\n\nexport class EaseAttribute {\n  name;value;\n\n  constructor(name, value) {\n    this.name = name;\n    this.value = value;\n  }\n}\n\nexport class EaseNode {\n  #tag;#attributes;#parent;#ns = undefined;\n  #children = [];\n\n  constructor(tag, attributes, ns, children = []) {\n    this.#tag = tag;\n    this.#attributes = attributes;\n    this.#children.push(...children);\n    this.#ns = ns;\n  }\n\n  addChild(node) {\n    this.#children.push(node);\n    node.setParent(this);\n  }\n\n  setParent(node) {\n    this.#parent = node;\n  }\n\n  static fromString(text, ns) {\n    text = text.replace('>', '');\n    let [tag, ...attrs] = text.split(' ');\n    tag = tag.replace('<', '').trim();\n    let attrsArray = [];\n\n    // Parse attributes\n    attrs = attrs.join(' ');\n    let key, value, step = 0, buffer = '', quoted = false;\n    for (let i = 0; i < attrs.length; i++) {\n      if (attrs[i] === '=' && step === 0) {\n        key = buffer;\n        buffer = '';\n        step = 1;\n      } else if (attrs[i] === '\"') {\n        if (step === 2) {\n          value = buffer;\n          buffer = '';\n          step = 0;\n          const attr = new EaseAttribute(key.trim(), value);\n          attrsArray.push(attr);\n        } else {\n          quoted = true;\n        }\n      } else if (attrs[i] !== '\"' && step === 1 ) { \n        buffer += attrs[i];\n        step = 2;\n      } else {\n        buffer += attrs[i];\n      }\n    }\n\n    if (tag === 'svg') {\n      return new EaseNode(tag, attrsArray, svgns);\n    } else {\n      return new EaseNode(tag, attrsArray, ns);\n    }\n  }\n\n  get parent() { return this.#parent }\n  get tag() { return this.#tag; }\n  get attributes() { return this.#attributes; }\n  get children() { return this.#children; }\n  get ns() { return this.#ns; }\n\n  toString() {\n    return `<${this.#tag}${this.#attributes.length?' ':''}${this.#attributes.map((attr) => `${attr.name}${attr.value?`=\"${attr.value}\"`:''}`).join(' ')}>${this.#children.map((child) => child.toString()).join('')}</${this.#tag}>`;\n  }\n\n  get htmlNode() {\n    const node = this.#ns ? document.createElementNS(this.#ns, this.#tag) : document.createElement(this.#tag);\n    this.#attributes.forEach((attr) => {\n      node.setAttribute(attr.name, attr.value.replace(/\"/g, ''));\n    });\n    this.#children.forEach((child) => {\n      node.appendChild(child.htmlNode);\n    });\n    return node;\n  }\n}\n\nexport class EaseTextNode extends EaseNode {\n  #text;\n\n  constructor(text) {\n    super('#TEXT', [], []);\n    this.#text = text;\n  }\n\n  get text() { return this.#text; }\n  get htmlNode() { return document.createTextNode(this.#text); }\n  toString() { return this.#text; }\n  addChild() { throw new Error('Cannot add children to text node'); }\n}\n\nexport class EaseNodeParser {\n  constructor() {}\n\n  // TODO: Analyze regex vs manual parsing performance\n  parse(text) {\n    let root = new EaseNode('root');\n    let activeNode = root;\n    text.split(/(<[^>]+>)/).filter(it => !!it).forEach((block) => {\n      if (block.startsWith('<!')) return;\n      if (block.startsWith('</')) {\n        activeNode = activeNode.parent;\n      } else if (block.startsWith('<')) {\n        const newNode = EaseNode.fromString(block, activeNode.ns);\n        activeNode.addChild(newNode);\n        if (!block.endsWith('/>')) {\n          activeNode = newNode;\n        }\n      } else if (block.trim().length > 0) {\n        activeNode.addChild(new EaseTextNode(block.trim()));\n      }\n    });\n    return root;\n  }\n}\n", "import { EaseNode, EaseAttribute, EaseNodeParser } from './vdom.js';\n\n/** Text-based document parsing to reduce dependence on DOMParser\n * @property {string} content The content of the document\n */\nexport function parseDocument(document) {\n  const parser = new EaseNodeParser();\n  const template = parser.parse(document.match(/<template>([\\s\\S]*)<\\/template>/m)?.[1] || '');\n  const script = document.match(/<script>([\\s\\S]*)<\\/script>/m)?.[1] || '';\n  const style = document.match(/<style>([\\s\\S]*)<\\/style>/m)?.[1] || '';\n\n  const properties = document.match(/<property\\s?([^(/>)]+)\\/>/g)?.map((prop) => {\n      const nameMatch = prop.match(/name=\"([^\"]+)\"/);\n      const typeMatch = prop.match(/type=\"([^\"]+)\"/);\n      const defaultMatch = prop.match(/default=\"([^\"]+)\"/);\n      const requiredMatch = prop.match(/required/);\n      const exposeToStylesMatch = prop.match(/expose-to-styles/);\n      const attributeMatch = prop.match(/attribute/);\n  \n      const name = nameMatch ? nameMatch[1] : null;\n      const type = typeMatch ? typeMatch[1] : null;\n      const defaultVal = defaultMatch ? defaultMatch[1] : null;\n      const required = requiredMatch ? requiredMatch[1] === 'true' : false;\n      const exposeToStyles = !!exposeToStylesMatch;\n      const attribute = !!attributeMatch;\n  \n      return { name, type, default: defaultVal, required, exposeToStyles, attribute };\n    }) || [];\n\n  return {template, script, style, properties };\n}\n\nexport function templateToVdom(template) {\n  let i = 0;\n  let vdom = new EaseNode('root', [], []);\n  let activeNode = vdom;\n  let currentNode;\n\n  while (i < template.length) {\n    if (template[i] === '<') {\n      if (template[i + 1] === '/') {\n        while (template[i] !== '>') {\n          i++;\n        }\n        activeNode.children.push(currentNode);\n      } else {\n        currentNode = new EaseNode('root', [], []);\n      }\n    }\n  }\n}\n", "if (typeof ease === 'undefined') {\n  throw new Error('This library requires Ease to be loaded first')\n}\n\nimport { parseDocument } from './parser.js';\n\nconst { warn, error, info } = ease.log\nconst { config } = ease\n\n/**\n * The registry of components\n * @type {Map<string, ComponentRegistryDef>}\n */\nconst ComponentRegistry = new Map();\n\n/** \n * Defines an property \n * \n*/\nclass Property {\n  /** @type {string} The name of the property */\n  name;\n  /** @type {string} The type of the property */\n  type;\n  /** @type {string} The default value of the property */\n  default;\n  /** @type {boolean} Whether the property is required */\n  required;\n  /** @type {boolean} Should the property be made available to the style */\n  exposeToStyles;\n  /** @type {boolean} If true, expose this property as an attribute */\n  attribute;\n\n  /**\n   * Creates a new property definition\n   * @param {string} name The name of the property\n   * @param {string} type The type of the property\n   * @param {string} defaultVal The default value of the property\n   * @param {boolean} attribute Should the property be exposed as an attribute\n   * @param {boolean} required Whether the property is required \n   * @param {boolean} exposeToStyles Should the property be made available to the style\n   */\n  constructor(name, type, defaultVal, required, exposeToStyles, attribute) {\n    this.name = name;\n    this.type = type || 'string';\n    this.default = defaultVal;\n    this.required = required;\n    this.attribute = attribute;\n    this.exposeToStyles = exposeToStyles;\n  }\n}\n  \n/**\n * Defines a component to be entered into the registry\n */\nclass ComponentRegistryDef {\n  /** @type {HTMLTemplateElement} The template for the component */\n  template;\n  /** @type {string} The tag name of the component */\n  tagName;\n  /** @type {string} The script body for the component, stored as a Blob */\n  script;\n  /** @type {string} The style for the component */\n  style;\n  /** @type {Property[]} The properties available in the component */\n  properties;\n  /** @type {string} The source of the component */\n  href;\n\n  /**\n   * Creates a new component definition\n   * @param {HTMLTemplateElement} template The template for the component\n   * @param {string} tagName The tag name of the component\n   * @param {string} script The script body for the component\n   * @param {string} style The style for the component\n   * @param {string} properties The properties for the component\n   */\n  constructor(href, template, tagName, script, style, properties) {\n    this.href = href;\n    this.template = template;\n    this.tagName = tagName;\n    this.script = this._scriptBlobFromText(script);\n    this.style = style;\n    this.properties = properties;\n  }\n\n  _scriptBlobFromText(text) {\n    if (!text) return null;\n    const blob = new Blob([text], { type: 'text/javascript' });\n    return URL.createObjectURL(blob);\n  }\n}\n\n/**\n * Fetches a component from a URL and returns a ComponentRegistryDef\n * @param {string} tagName The tag name of the component\n * @param {string} href The URL to fetch the component from\n * @returns {Promise<ComponentRegistryDef>} The component definition\n */\nexport async function fetchComponent(tagName, href) {\n  if (ComponentRegistry.has(tagName)) {\n    const existingItem = ComponentRegistry.get(tagName);\n    if (existingItem.href !== href) {\n      throw error(`Component ${tagName} already exists in the registry with a different href`).toError();\n    }\n    return existingItem;\n  }\n\n  return await fetch(`${href}`, { headers: { 'x-ease-fetch': 'true' } })\n    .then(async (response) => ({ content: await response.text(), code: response.status }))\n    .then(({content, code}) => {\n      if (code !== 200) {\n        throw error(`Failed to fetch component from ${href}`).toError();\n        return;\n      }\n\n      const {template, script, style, properties} = parseDocument(content);\n\n      // Run the component through extensions\n      ease.extensions.getExtensionsByArtifact('@easedotjs/components').forEach(([extension, name]) => {\n        if (extension.onFetchComponent) {\n          try {\n            extension.onFetchComponent({template, script, style});\n          } catch (e) {\n            error(`Failed to run extension ${name} onFetchComponent for ${href}`, e);\n          }\n        }\n      });\n\n      return {template, script, style, properties};\n    }).then(({template, script, style, properties}) => {\n      return new ComponentRegistryDef(href, template, tagName, script, style, properties);\n    })\n    .catch((err) => {\n      error(`Failed to fetch component from ${href}`);\n    });\n  }\n\n/**\n * Registers a component with the registry\n * @param {ComponentRegistryDef} def The component definition\n */\nexport function registerComponent(def) {\n  if (!def) { return }\n  // TODO: Validate the component definition\n  if (!ComponentRegistry.has(def.tagName)) {\n    ComponentRegistry.set(def.tagName, def);\n  }\n}\n\n/**\n * Fetches a component from the registry\n * @param {string} tagName The tag name of the component\n * @returns \n */\nexport function getComponent(tagName) {\n  return ComponentRegistry.get(tagName);\n}\n\n/**\n * Fetches a component from a link element and registers it, or returns the existing component\n * @param {HTMLLinkElement} link The link element to fetch the component from\n * @returns {Promise<ComponentRegistryDef>} The component definition\n */\nexport async function fetchComponentFromLink(link) {\n  return fetchComponent(link.getAttribute('rel'), link.href)\n    .then((def) => {\n      registerComponent(def);\n      return def;\n    });\n}\n", "if (typeof ease === 'undefined') {\n  throw new Error('This library requires Ease to be loaded first')\n}\n\nimport { getComponent } from './registry.js';\nconst { config, extensions } = ease\nconst { error } = ease.log\n\n/**\n * Creates the class for a web component from the registry\n * @param {ComponentRegistryDef} registryDef The registry definition\n * @returns {typeof HTMLElement} The web component class\n */\nexport function createWebComponentClass(\n  tagName,\n  template,\n  style,\n  scriptUrl,\n  properties,\n) {\n  // TODO: A lot of this code is only needed to be initialized once \n  //       - we should make it static on the class\n  const component = class extends HTMLElement {\n    /** The shadow element that holds the content */\n    _shadow;\n    _mounted = false;\n    _styleEl;\n    _propStyleEl;\n    _eventListeners = [];\n    _args = {\n      // The shadow\n      root: undefined,\n      // Elements\n      elements: {},\n      get el() { return this.elements },\n      // Properties\n      properties: {},\n      get props() { return this.properties },\n      // Extensions\n      extensions: {},\n      get ext() { return this.extensions },\n      get [config.inject.name]() { return this.extensions},\n      // Attributes\n      attributes: {},\n      get attrs() { return this.attributes },      \n    };\n\n    constructor() {\n      super();\n\n      // Allows accessing the component from methods\n      let self = this;\n      \n      //if (template.hasAttribute('shadowless')) {\n      //  this._shadow = this;\n      //} else {\n        // Create the shadow DOM\n        this._shadow = this.attachShadow({mode: 'open'});\n        this._args.root = this._shadow;\n      //}\n\n      // Add tag name to shadow for debugging purposes\n      this._shadow.tagName = tagName;\n          \n      // Clone the template into the shadow DOM\n      // TODO: Build DOM manually\n      template.children.forEach((el) => {\n        this._shadow.appendChild(el.htmlNode.cloneNode(true));\n      });\n      \n      // Load the stylesheet\n      if (style) {\n        this._styleEl = document.createElement('style');\n        this._styleEl.textContent = style;\n        this._shadow.appendChild(this._styleEl);\n      } \n\n      // Get properties and store them in the properties object\n      let propStyles = '';\n      properties?.forEach?.((prop) => {\n        this._args.properties[prop.name] = {\n          _listeners: [],\n          _value: prop.default,\n          type: prop.type,\n          required: prop.required,\n          exposeToStyles: prop.exposeToStyles,\n          attribute: prop.attribute,\n          get value() { return this._value },\n          set value(v) { \n            const prev = this._value;\n            this._value = v;\n            this._listeners.forEach((l) => l(v, prev));\n            if (this.exposeToStyles) self.updateStyles();\n          },\n          /**\n           * Adds a watcher to the property, which receives the current and previous values\n           * This will be invoked on mount and whenever the value changes\n           * @param {function} callback \n           */\n          watch(callback) {\n            this._listeners.push(callback);\n            if (!this._mounted) {\n              callback(this.value, undefined);\n            }\n          },\n          /**\n           * Removes a watcher from the property\n           * @param {function} callback\n           */\n          unwatch(callback) {\n            this._listeners = _listeners.filter((l) => l !== callback);\n          },\n          /**\n           * Removes all watchers from the property\n           */\n          unwatchAll() {\n            this._listeners = [];\n          }\n        };\n        \n        Object.defineProperty(this, prop.name, {\n          get: () => this._args.properties[prop.name].value,\n          set: (v) => { \n            this._args.properties[prop.name].value = v\n          }\n        })\n\n        // If the attribute is required, throw an error if it is not present \n        if (prop.required && prop.attribute && !this.hasAttribute(prop.name)) {\n          throw error(`Attribute ${prop.name} is required`).toError();\n        }\n\n        if (prop.attribute) {\n          this._args.properties[prop.name].value = this.getAttribute(prop.name) || prop.default;\n        }\n\n        // If the property is set for style exposure, add it to the style element\n        if (prop.exposeToStyles) {\n          propStyles += `--${prop.name}: ${this._args.properties[prop.name].value}; `;\n        }\n      });\n\n      // Add the attribute styles to the style element\n      if (propStyles) {\n        this._propStyleEl = document.createElement('style');\n        this._propStyleEl.textContent += `:host { ${propStyles} }`;\n        this._shadow.insertBefore(this._propStyleEl, this._styleEl);\n      }\n\n      // Get elements by ID and store them in the elements object\n      this._shadow.querySelectorAll('[id]').forEach((el) => {\n        this._args.elements[el.id] = el;\n      });\n      \n      // Get all extensions\n      this._args.extensions = extensions.all.reduce((p, c) => {\n        const objects = c.objects || {};\n        const methods = c.methods || {};\n        return {...p, ...objects, ...methods};\n      }, {});\n\n      // Override event listeners; this allows tracking event listeners\n      // and removing them when the component is disconnected\n      const _shadowAddEventListener = this._shadow.addEventListener;\n      this._shadow.addEventListener = function (name, callback) {\n        self._eventListeners.push({ name, callback })\n        _shadowAddEventListener(name, callback)\n      }\n      \n      const _shadowRemoveEventListener = this._shadow.removeEventListener;\n      this._shadow.removeEventListener = function (name, callback) {\n        self._eventListeners = self._eventListeners.filter(({ name: n, callback: c }) => {\n          if (n === name && c === callback) {\n            _shadowRemoveEventListener(name, callback)\n            return false\n          }\n          return true\n        })\n      }\n            \n      // Load the script\n      if (scriptUrl) {\n        import(scriptUrl).then((module) => {\n          if (!module.default) return;          \n          // If the module has a default export, call it with the component as the argument\n          if (module.default) module.default.apply(self, [{...this._args, self }]);\n          \n          // Dispatch a connect event\n          this._shadow.dispatchEvent(new CustomEvent('connect'));\n        });\n      }\n\n      // Handle initialization through extensions\n      extensions.getExtensionsByArtifact('@easedotjs/components').forEach(([ext]) =>\n        ext.onInit?.({ shadow: this._shadow, args: this._args, instance: self })\n      );\n\n      // Get attributes and store them in the attributes object\n      Array.from(this.attributes).forEach((attr) => {\n        this._args.attributes[attr.name] = attr.value;\n      });\n    }\n\n    // Update Styles to reflect attribute changes\n    updateStyles() {\n      if (!this._propStyleEl) return;\n      let propStyles = '';\n      Object.keys(this._args.properties).forEach((key) => {\n        const prop = this?.[key];\n        if (prop.exposeToStyles) {\n          attrStyles += `--${key}: ${prop.value}; `;\n        }\n      });\n      this._propStyleEl.textContent = `:host { ${propStyles} }`;\n    };\n\n    // On connect, add watchers\n    connectedCallback() {\n      this._mounted = true;\n      // Dispatch a connect event\n      this._shadow.dispatchEvent(new CustomEvent('connect'));\n    }\n\n    // On disconnect, remove all watchers\n    disconnectedCallback() {\n      this._mounted = false;\n      this._args.properties?.forEach?.((attr) => {\n        attr.unwatchAll();\n      });\n      this._shadow.dispatchEvent(new CustomEvent('disconnect'));\n\n      // Remove all event listeners\n      this._eventListeners.forEach(({ name, callback }) => {\n        this._shadow.removeEventListener(name, callback)\n      })\n\n      // Handle cleanup through extensions\n      extensions.getExtensionsByArtifact('@easedotjs/components').forEach(([ext]) =>\n        ext.onCleanup?.({ shadow: this._shadow, args: this._args })\n      );\n    }\n\n    static get observedAttributes() {\n      return properties.filter((prop) => prop.attribute).map((attr) => attr.name);\n    }\n  }\n  customElements.define(tagName, component);\n  return component;\n}", "if (typeof ease === 'undefined') {\n  throw new Error('This library requires Ease to be loaded first')\n}\n\nconst { warn, error, info } = ease.log\n\nimport { fetchComponent, registerComponent } from './registry.js'\nimport { createWebComponentClass } from './hydrate.js'\n\n// Get components defined in the document\nconst componentPromises = Array.from(document.querySelectorAll('link[rel=\"component\"]')).map(async (link) => {\n  const def = await fetchComponent(link.getAttribute('name'), link.href);\n  // Register the component\n  registerComponent(def);\n  // Define the custom element\n  createWebComponentClass(def.tagName, def.template, def.style, def.script, def.properties);\n})\n\n// Get component definitions\nconst componentDefPromises = Array.from(document.querySelectorAll('link[rel=\"component-def\"]')).map(async (link) => {\n  return fetch(`${link.href}`, { headers: { 'x-ease-fetch': 'true' } }).then((response) => {\n    if (response.status === 404) {\n      throw warn(`Failed to load component from ${href}`, 'URL returned 404').toError();\n    }\n    return response.text()\n  }).then(async (content) => {\n    // Fetch the component def xml\n    let parser = new DOMParser()\n    let components = parser.parseFromString(content, 'text/xml').querySelector('components')\n    const promises = Array.from(components.childNodes).map(async (component) => {\n      if (component.nodeName === 'component') {\n        await fetchComponent(component.attributes['name'].value, component.attributes['href'].value)\n          .then((def) => {\n            // Register the component\n            registerComponent(def);\n\n            // Define the custom element\n            createWebComponentClass(def.tagName, def.template, def.style, def.script, def.properties);\n          })\n          .catch((err) => {\n            error(`Failed to load component from ${component.attributes['href'].value}`, err)\n          })\n      }\n    })\n    await Promise.all(promises)\n    info(`Loaded component definitions from ${link.href}`)\n  })\n})\n\n// Rehydrate the document if it's wrapped in a template\n// This allows us to defer rendering\nPromise.all([...componentPromises, ...componentDefPromises]).then(() => {\n  const rootTemplate = document.querySelector('body > template');\n  if (rootTemplate) {\n    rootTemplate.replaceWith(rootTemplate.content);\n  }\n  document.body.classList.add('hydrated');\n});\n\n"],
  "mappings": "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",
  "names": ["svgns", "EaseAttribute", "name", "value", "EaseNode", "_EaseNode", "#tag", "#attributes", "#parent", "#ns", "#children", "tag", "attributes", "ns", "children", "node", "text", "attrs", "attrsArray", "key", "step", "buffer", "quoted", "attr", "child", "EaseTextNode", "#text", "EaseNodeParser", "root", "activeNode", "it", "block", "newNode", "parseDocument", "document", "template", "EaseNodeParser", "script", "style", "properties", "prop", "nameMatch", "typeMatch", "defaultMatch", "requiredMatch", "exposeToStylesMatch", "attributeMatch", "name", "type", "defaultVal", "required", "warn", "error", "info", "config", "ComponentRegistry", "ComponentRegistryDef", "href", "template", "tagName", "script", "style", "properties", "text", "blob", "fetchComponent", "ComponentRegistry", "existingItem", "error", "response", "content", "code", "parseDocument", "extension", "name", "err", "registerComponent", "def", "config", "extensions", "error", "createWebComponentClass", "tagName", "template", "style", "scriptUrl", "properties", "component", "self", "el", "propStyles", "prop", "v", "prev", "l", "callback", "p", "c", "objects", "methods", "_shadowAddEventListener", "name", "_shadowRemoveEventListener", "n", "module", "ext", "attr", "key", "warn", "error", "info", "componentPromises", "link", "def", "fetchComponent", "registerComponent", "createWebComponentClass", "componentDefPromises", "response", "content", "components", "promises", "component", "err", "rootTemplate"]
}
